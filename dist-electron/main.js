"use strict";const n=require("electron"),o=require("node:path"),c={CHANNEL_ADJUST_WIN:"c_adjust_win"},t=()=>{n.ipcMain.on(c.CHANNEL_ADJUST_WIN,(i,r)=>{const s=n.BrowserWindow.getFocusedWindow();if(s!=null)switch(r){case"min":s.minimize();break;case"max":s.isMaximized()?s.unmaximize():s.maximize();break;case"close":s.destroy();break}})};process.env.DIST=o.join(__dirname,"../dist");process.env.PUBLIC=n.app.isPackaged?process.env.DIST:o.join(process.env.DIST,"../public");let e;const a=process.env.VITE_DEV_SERVER_URL;function d(){e=new n.BrowserWindow({width:900,height:600,frame:!1,webPreferences:{preload:o.join(__dirname,"preload.js")}}),e.webContents.on("did-finish-load",()=>{e==null||e.webContents.send("main-process-message",new Date().toLocaleString())}),e.on("closed",()=>{n.BrowserWindow.getAllWindows().forEach(i=>i.close())}),a?e.loadURL(a):e.loadFile(o.join(process.env.DIST,"index.html"))}n.app.on("window-all-closed",()=>{e=null});n.app.whenReady().then(()=>{t(),d()});
